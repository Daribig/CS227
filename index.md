# CS227: The Daily Petabyte: Managing Cloud-Native Systems Through Observability
Professor: Prof. Stan Zdonik  
TA: Franco Solleza  
  
Mondays, 15.00 - 17.30, First class is on Monday, January 31, 2022  
Zoom Link: [https://brown.zoom.us/j/92550023931](https://brown.zoom.us/j/92550023931)  
Piazza: [piazza.com/brown/spring2021/csci2270](piazza.com/brown/spring2022/csci2270)  
Questions? Email Franco (first_last@brown.edu)  

## A note on override Codes

If you are requesting an override code, please do so on CAB. However, also email me and
Prof. Zdonik. We'll be sending them out all at once.

Please fill out [this form](https://forms.gle/hmEo8XNZzKG15L7J7) just to be sure we get your request covered.

## Table of Contents

* [What this class is about](#what-this-class-is-about)
* [Projects](#projects)
    * [Project Requirements](#project-requirements)
    * [Project Options](#project-options)
    * [Project Assignments](#project-assignments)
* [Readings](#readings)
    * [Reading Summaries](#reading-summaries)
    * [Reading Assignments](#reading-assignments)
* [Schedule](#schedule)
    * [Introduction to Time Series Management Systems](#topic-introduction-to-time-series-management-systems)
    * [Time Series Data and Storage](#topic-time-series-data-and-storage)
    * [Time Series Similarity Search](#topic-time-series-similarity-search)
    * [Observability](#observability)
    * [Projects Presentations](#topic-projects-presentations)

## What this class is about

Modern software systems are complex and are frequently broken into many component microservices.
Managing these microservices requires visibility into the system state using massive amounts of
data generated by the system reflecting its state. When some symptom of an issue occurs like
some slow down in response time, engineers would look through these data to get alerted of the
symptom, identify the root cause, and resolve the issue. This process of observing and managing
system state is called Observability.

In this class, we'll take a look at Observability and the current challenges in Observability.
We'll take a look at Observability as a data management workload and the tools to support this
workload that are used in industry and proposed by academia. We'll also discuss what abstractions
might improve the process of Observability.

The class schedule will follow the following high level outline:

1. Academic work that explores the workloads of metrics, logs, and traces: Many of the workload
   characteristics in Observability have been well studied. We'll take a look at some of the more
   recent work in each of the data types.

2. The tools industry uses: We'll dive into the implementation details of some of the industry
   standard tools used in Observability. This means we'll be reading some code and presenting
   in-depth summaries of how these tools do what they they do.

3. Abstractions for Observability: We'll discuss why the current suite of tools fail to support
   Observability effectively. We'll discuss what might be a good set of abstractions for the
   Observability workload.

([top](#table-of-contents))

## Resrouces and Meeting

If you want extra resources or to schedule a meeting, email Franco!

## Projects

You'll also be working on projects that involve modern or even novel techniques
to address a research question. We provide a systems project, 

### Project Requirements

* Significant coding portion that implements your research
* A write up that describes what you did and how you did it, along with benchmarks or
other measurements that you use to show whether your hypothesis was verified or not.
* At end of class, we'll all have presentations. The logistics for this is still tbd

### Project options

**TBD**

<!---

* **Systems Project**: In this project, you will implement a TSDB in Rust. It will support
writing entries into persistent storage, reading and filtering these entries similar to a
`SELECT` with a `WHERE` clause, and simple aggregations. We will benchmark your project
using synthetic data we will make available. Details can be found
[here][100].

* **Analytics Project**: In this project, you will implement a time series
nearest-neighbor classifier. This requires finding a distance measure like Euclidean
Distance or DTW, a representation, or both, with which you find nearest neighbors of a
specific timeseries. We will benchmark your project using the UCR/UEA time series
archive. Details can be found [here][101].

-->

### Project Assignments

**TBD**

<!---
You can sign-up for your project [here][102]  
Final project assignments can be found [here][103]  
-->

## Readings

The schedule below follows the readings for every week. Although these readings are the
specifics we want to cover during the class, feel free to read more material directly
related to but not included in the readings.

### Reading summaries

**Reading Summaries** for the day's are to be submitted before class. These summaries are
pretty free-form but generally speaking we want you to compare and contrast the approaches
in each of the papers.

Submit your summaries [here][200]

### Reading assignments

During each class, two students will present on the paper readings for the week.

<!--
Sign up for your presentation preference [here][104]  
Final presentation assignments can be found [here][103]  
-->

([top](#table-of-contents))

## Schedule

### Topic: Introduction to Time Series Management Systems

* **January 31, 2022**:
    * Introductions to the class logistics
    * An overview of timeseries databases and workloads
    * Observability: [https://www.youtube.com/watch?v=S_L0ohIJuF0](https://www.youtube.com/watch?v=S_L0ohIJuF0)

### Topic: Observability Data Types

**TBD**

* **February 7**: Metrics
* **February 14**: Logs
* **February 21**: President's Day
* **February 28**: Traces

<!--
    * [Implementing Prometheus][1]
    * Prometheus details:
        * [Part 1][2]
        * [Part 2][3]
        * [Part 3][4]
        * [Part 4][5]
    * [Gorilla][25]- only Section 4 and Section 4.1 (pages 1818-1821)
    * [Presentation](https://docs.google.com/presentation/d/1wfHvSxhnAsKL-PG9w0KBuTHwqO-Uw57rrdQIpk3Xkks/edit?usp=sharing)
* **February 8**: Prometheus Issues
    * [Challenges using Prometheus at scale][6]
    * [Containing your cardinality][7]
    * [ByteSeries : An In-Memory Time Series Database for Large-Scale Monitoring Systems][26]
* **February 15**: No classes
* **February 22**: Other storage strategies
    * [TimeScaleDB][8]
    * [BTrDB: Optimizing Storage System Design for Time Series Processing][9]
* **March 1**: TSDBs at scale
    * [Google Monarch][10]
    * [M3 Architecture - From "Overview" to "Caching"][11]
-->

### Topic: Observability Industry Systems

**TBD**

* **March 7**: Metrics
* **March 14**: Logs
* **March 21**: Traces
* **March 28**: Spring Break

<!--
* **March 8**: Distances and Databases
    * [k-Shape: Efficient and Accurate Clustering of Time Series][12]
    * [Timon: A Timestamped Event Database for Efficient Telemetry Data Processing and Analytics][13]

* **March 15**: Anomaly Detection
    * [Series2Graph: Graph-based Subsequence Anomaly Detection for Time Series][14]
    * [Time-Series Anomaly Detection Service at Microsoft][15]

* **March 22**: Representation Learning
    * [GRAIL: Efficient Time-Series Representation Learning][16]
    * [Learning Representations for Time Series Clustering][17]

### Topic: Observability
* **March 29**: Metrics
    * [Seer: Leveraging Big Data to Navigate the Complexity of Performance Debugging in Cloud Microservices][18]
    * [Sieve: Sieve: Actionable Insights from Monitored Metrics in Microservices][19]
* **April 5**: Traces
    * [Pivot Tracing: Dynamic Causal Monitoring for Distributed Systems][20]
    * [Canopy: An End-to-End Performance Tracing And Analysis System][21]
* **April 12**: Observability
    * [The Kaiju Project: Enabling Event-Driven Observability][22]
-->

### Topic: Putting it all together

**TBD**

* **April 4**
* **April 11**
* **April 18**

## Topic: Project Presentations

**TBD**

* **April 25**: TBD
* **May 2**: TBD

([top](#table-of-contents))

[//]: # (Links)

[//]: # (Prometheus readings)
[1]: https://bit.ly/37uwAUV  
[2]: https://ganeshvernekar.com/blog/prometheus-tsdb-the-head-block/  
[3]: https://ganeshvernekar.com/blog/prometheus-tsdb-wal-and-checkpoint/  
[4]: https://ganeshvernekar.com/blog/prometheus-tsdb-mmapping-head-chunks-from-disk/  
[5]: https://ganeshvernekar.com/blog/prometheus-tsdb-persistent-block-and-its-index/  

[//]: # (Prometheus issues)
[6]: https://sysdig.com/blog/challenges-scale-prometheus/  
[7]: https://www.youtube.com/watch?v=49BGvC1coG4  

[//]: # (Other Storage Strategies)
[8]: https://blog.timescale.com/blog/time-series-data-why-and-how-to-use-a-relational-database-instead-of-nosql-d0cd6975e87c/  
[9]: ./papers/btrdb.pdf  

[//]: # (TSDBs at Scale)
[10]: http://www.vldb.org/pvldb/vol13/p3181-adams.pdf  
[11]: https://m3db.io/docs/m3db/architecture/  

[//]: # (Analytics Databases)
[12]: ./papers/kshape.pdf  
[13]: http://www.cs.utah.edu/~lifeifei/papers/timon.pdf  

[//]: # (Anomaly Detection)
[14]: http://www.vldb.org/pvldb/vol13/p1821-boniol.pdf  
[15]: https://arxiv.org/pdf/1906.03821.pdf  

[//]: # (Representation Learning)
[16]: https://dl.acm.org/doi/pdf/10.14778/3342263.3342648  
[17]: https://papers.nips.cc/paper/8634-learning-representations-for-time-series-clustering.pdf  

[//]: # (Metrics)
[18]: https://www.csl.cornell.edu/~delimitrou/papers/2019.asplos.seer.pdf  
[19]: https://arxiv.org/pdf/1709.06686.pdf  

[//]: # (Traces)
[20]: https://cacm.acm.org/magazines/2020/3/243034-pivot-tracing/fulltext  
[21]: https://research.fb.com/wp-content/uploads/2017/10/sosp17-final14.pdf  

[//]: # (Observability)
[22]: https://dl.acm.org/doi/pdf/10.1145/3401025.3401740  


[//]: # (Introduction)
[23]: https://www.youtube.com/watch?v=C4YV-9CrawA  
[24]: https://www.youtube.com/watch?v=xwnwVeYlP8o  

[25]: ./papers/gorilla.pdf  
[26]: https://dl.acm.org/doi/10.1145/3419111.3421289  

[//]: # (Projects)
[100]: systems-project.md
[101]: analytics-project.md
[102]: https://forms.gle/EUphDfs9Y4AVdqjRA
[103]: https://docs.google.com/spreadsheets/d/1AYFCVcBeGGeLPdDvrSGCuiLeKQh6m1k-OIvkrX1m1a8/edit?usp=sharing
[104]: https://forms.gle/ZfSHsCxFwB1f59NG9

[//]: # (Reading summary submission form)
[200]: https://forms.gle/e12FbVs7tVWEuwKy8

[//]: # (Presentations)
[301]: ./presentations/class1.pdf
